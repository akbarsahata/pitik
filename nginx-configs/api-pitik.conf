limit_req_zone $binary_remote_addr zone=loginlimit:2m rate=10r/s;

server {
  	listen 80;
  	server_name api.pitik.id;
  	client_max_body_size 100M;
  	client_body_buffer_size 100k;
  	proxy_next_upstream off;

	error_page 502 /502.json;
		location /502.json {
        return 502 '{"error":{"code":502,"message":"Bad Gateway"}}';
    }

	error_page 404 /404.json;
        location /404.json {
        return 404 '{"error":{"code":404,"message":"Not Found"}}';
    }

	### USER MANAGEMENT SERVICE V2 CONFIG ###
        location / {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://user-management.production.pitik.internal/status;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/health-status {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/status;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/auth {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/auth;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        limit_req zone=loginlimit;
        }

        location /v2/auth/verify {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/auth/verify;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/auth/refresh_token {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/auth/refresh_token;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/auth/reset-password {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/auth/reset-password;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/auth/google/login {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/auth/google/login;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }
        
        location /v2/register {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/register;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/users {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/users;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/admin/apis {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/apis;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/preset-access {
        resolver 172.21.0.2 valid=30s;        
        proxy_pass http://user-management.production.pitik.internal/preset-access;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/admin/apps {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://user-management.production.pitik.internal/apps;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/admin/privileges {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://user-management.production.pitik.internal/privileges;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/roles {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://user-management.production.pitik.internal/roles;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/users-supervisor {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://user-management.production.pitik.internal/users-supervisor;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/role-ranks {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://user-management.production.pitik.internal/roleRanks;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/users/me {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://user-management.production.pitik.internal/users/me;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }
    ### END OF USER MANAGEMENT SERVICE V2 CONFIG ###

	### FARMING SERVICE V2 CONFIG ###
        location /v2/farming-status {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/farming-documentation {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/farming-documentation;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/farms {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/farms;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/performance {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/performance;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/notifications {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/notifications;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Pro-to $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sensor {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sensor;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Pro-to $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/historical {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sensor/historical;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/tasks {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/tasks;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/self-registration {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/self-registration;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/farming-cycles {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/farming-cycles;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/alerts {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/alerts;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Pro-to $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/issues {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/issues;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/upload {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/upload;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/devices {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/devices;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/gamification {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/gamification;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/smart-scale {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/smart-scale;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/internal {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/internal;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/areas {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/areas;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/chick-types {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/chick-types;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/coop-types {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/coop-types;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/coops {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/coops;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/fms-users {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/users;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/products {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/products;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/provinces {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/provinces;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/cities {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/cities;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/districts {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/districts;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/task-presets {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/task-presets;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/alert-presets {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/alert-presets;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/chick-in-requests {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/chick-in-requests;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/purchase-requests {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/purchase-requests;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/purchase-requests/target-coops {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/transfer-requests/target-coops;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/purchase-orders {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/purchase-orders;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/feedstocks {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/feedstocks;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/ovkstocks {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/ovkstocks;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

	    location /v2/branch-sapronak-stocks {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/branch-sapronak-stocks;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/po-approved-manual-trigger {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/po-approved-manual-trigger;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/transfer-requests {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/transfer-requests;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/goods-receipts {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/goods-receipts;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/targets {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/targets;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/variables {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/variables;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/task-libraries {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/task-libraries;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/feed-brands {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/feed-brands;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/branches {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/branches;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/daily-performances {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/daily-performances;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/harvests {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/harvests;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/harvest-requests {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/harvest-requests;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/harvest-deals {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/harvest-deals;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/harvest-realizations {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/harvest-realizations;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/buildings {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/buildings;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/building-types {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/building-types;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/controller-types {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller-types;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/farm-list {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/farm-list;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/floor-types {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/floor-types;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/heater-types {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/heater-types;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/rooms {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/rooms;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/room-types {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/room-types;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/devices-sensor {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/devices-sensor;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/firmware {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/firmware;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/contract {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/contract;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/contract/cost-plus {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/contract/cost-plus;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/contract/mitra-garansi {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/contract/mitra-garansi;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/contract/own-farm {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/contract/own-farm;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/smart-camera {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/smart-camera;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/auth/register {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/self-registration/register-owner;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/documents {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/documents;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/iot-ticketing {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/iot-ticketing;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/smart-conventron {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/smart-conventron;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/products {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/products;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/customers {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/customers;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/product-categories {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/product-categories;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/order-issue-categories {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/order-issue-categories;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/invoices {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/invoices;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/vendors {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/vendors;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/purchase-orders {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/purchase-orders;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/goods-received {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/goods-received;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/operation-units {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/operation-units;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/manufactures {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/manufactures;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/stock-disposals {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/stock-disposals;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/stock-opnames {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/stock-opnames;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/sales-orders {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/sales-orders;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/sales/internal-transfers {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/sales/internal-transfers;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        ### B2B EXTERNAL APP ENDPOINTS IN FARMING SERVICE ###

        location /v2/b2b/member-info {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/member-info;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/farm-infrastructure {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/farm-infrastructure;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/farm-infrastructure/home {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/farm-infrastructure/home;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/farm-infrastructure/coops {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/farm-infrastructure/coops;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/organizations {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/organizations;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/organization-members {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/organization-members;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/iot-devices {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/iot-devices;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/iot-devices/smart-controller {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/iot-devices/smart-controller;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/b2b/farms {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/farms;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/coops {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/coops;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/weighing {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/weighing;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/users {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/users;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        location /v2/b2b/historical-data {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/b2b/historical-data;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Proxy-Url $uri;
        }

        ### END OF B2B EXTERNAL APP IN FARMING SERVICE ###

        location /v2/status {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/status;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/summary {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/summary;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/growth-day {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/growth-day;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/fan {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/fan;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/fan/detail {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/fan/detail;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/cooler/detail {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/cooler/detail;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/lamp {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/lamp;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/alarm {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/alarm;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/devices {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/devices;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/heater {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/heater;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/coop/historical {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/coop/historical;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /v2/controller/status {
        resolver 172.21.0.2 valid=30s;
        proxy_pass http://farming.production.pitik.internal/controller/status;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        }
    ### END OF FARMING SERVICE V2 CONFIG ###
}